<!DOCTYPE html>
<html>
<head>

  <meta charset="utf-8">

  <title>INDEX</title>
  <!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
  <link rel="stylesheet" type="text/css" href="css/myappstyles.css">
</head>

<body>

  <div id="app">

    <nav>
     <div class="nav-wrapper">
      <a href="#" class="brand-logo right">Contacts</a>
      <ul id="nav-mobile" class="left hide-on-med-and-down">
        <li><a href="#"@click="cambiarVista('ingresar')">New Contact</a></li>
        <li><a href="#"@click="cambiarVista('buscar')">Search</a></li>
        <li><a href="#"@click="cambiarVista('favorites')">favorites</a></li>
        <li><a href="#"@click="cambiarVista('about')">About</a></li>
      </ul>
    </div>
  </nav>

  <div v-show="vista == 'ingresar'">
    <div class="row">
      <h3>New contact</h3>
      <form class="col s12">
        <div class="row">
          <div class="input-field col s6">
           <input v-model="persona.nombre" type="text" placeholder="Name">
         </div>
         <div class="input-field col s6">
           <input v-model="persona.apellido" type="text" placeholder="Surname">
         </div>
       </div>
       <div class="row">
         <div class="input-field col s12">
          <input type="number" v-model="persona.edad" placeholder="Age">
        </div>
      </div>
      <div class="row">
       <div class="input-field col s12">
        <input type="number" v-model="persona.telefono" placeholder="Phone number">
      </div>
    </div>

    <div class="row" align="center">
      <form action="#">
        <input name="sexo" value="Male" type="radio" id="checkSexo1" v-model="persona.sexo"/>
        <label for="checkSexo1">Male</label>

        <input name="sexo" value="Female" type="radio" id="checkSexo2" v-model="persona.sexo"/>
        <label for="checkSexo2">Female</label>
      </form>
      <button class="btn waves-effect waves-light" :disabled="!formOk" type="submit" @click.prevent="agregarPersona">Add Contact</button>
    </div>
  </form>
</div>
</div>

<div v-show="vista == 'buscar'">
  <h3>Search for contacts</h3>
  <input type="text" placeholder="Filter by name" v-model="filtro">
  <h3 v-if="!personas.length">Looks so empty</h3>
  <div v-else v-for="(persona,index) in personasFiltradas">
    <div class="row">
        <div class="col s12 m6">
          <div class="card blue-grey darken-1">
            <div class="card-content white-text">
              <span class="card-title">{{ persona.nombre }} {{ persona.apellido }}</span>
              <p>Edad: {{persona.edad}}</p>
              <p>Telefono: {{persona.telefono}}</p>
            </div>
            <div class="card-action">
                  <button class="btn waves-effect red darken-4" @click="eliminarPersonaLocalStorage(index);">Borrar</a>
                  <button class="btn waves-effect waves-light" :disabled=persona.favs @click="hacerFavorito(index);">Favorite</a>
            </div>
          </div>
        </div>
    </div>       
  </div>
</div>

<div v-show="vista == 'about'">

</div>


<div v-show="vista == 'favorites'">
  <h3>Favorite List</h3>
  <h3 v-if="!personas.length">Looks so empty</h3>
  <div v-else v-for="(persona,index) in personas">
      <div v-if="persona.favs==true">
       <div class="row">
        <div class="col s12 m6">
          <div class="card blue-grey darken-1">
            <div class="card-content white-text">
              <span class="card-title">Card Title</span>
            </div>
          </div>
        </div>
    </div>  

      <h4 class="card-title">{{ persona.nombre }} ({{ persona.apellido }}) ({{ persona.edad }}) ({{ persona.telefono }}) ({{ persona.favs }}) </h4>
      <button class="btn waves-effect waves-light" @click="eliminarFav(index);">Unfave</a>
      </div>
  </div>
</div>

</div>

<script src="js/vue.js"></script>
<script src="js/app.js"></script>

</body>
</html>